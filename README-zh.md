# OpenGL 任务

*[English](https://github.com/arcadian-st/opengl-tasks/blob/main/README.md)* | *简体中文*

12 个 OpenGL 的入门任务。

该项目使用 GLFW 和 GLAD 创建了 12 个基础示例，每个示例都以前面的示例为基础构建，逐步介绍 OpenGL 的基本概念。

请注意，该项目不包括 C++ 和 GLSL 的介绍，且仅涵盖了 OpenGL 最基础的部分概念。除了学习这些示例外，根据课程系统学习 OpenGL 才能达成更好的学习效果。

参考链接：[learnopengl](https://learnopengl.com/)

## 大纲

1. [开始](#开始)

   1.1 [环境和库](#环境和库)

   1.2 [项目结构](#项目结构)

2. [任务描述](#任务描述)

   2.1 [任务 1：设置项目](#任务-1设置项目)

   2.2 [任务 2：绘制基本形状](#任务-2绘制基本形状)

   2.3 [任务 3：变换](#任务-3变换)

   2.4 [任务 4：着色器介绍](#任务-4着色器介绍)

   2.5 [任务 5：纹理](#任务-5纹理)

   2.6 [任务 6：基本光照](#任务-6基本光照)

   2.7 [任务 7：高级着色器](#任务-7高级着色器)

   2.8 [任务 8：缓冲区和网格](#任务-8缓冲区和网格)

   2.9 [任务 9：相机和用户交互](#任务-9相机和用户交互)

   2.10 [任务 10：扩展内容](#任务-10扩展内容)

   2.11 [任务 11：总结](#任务-11总结)

   2.12 [任务 12：最终项目 - 3D 场景渲染](#任务-12最终项目---3d-场景渲染)

## 开始

### 环境和库

  * Microsoft Visual C++ Build Tools v19.28.29915
 
  * CMake v3.27

  * GLWF v3.3.9

  * GLAD with OpenGL v4.6

  * GLM v0.9.9.8

  * Windows 11 操作系统，搭载 Intel Core i5 CPU 和 Nvidia GPU

### 项目结构

  可执行文件将从以下文件构建

  ```
  src/main.cpp
  ```

  任务示例放置在以下目录中

  ```
  src/tasks/
  ```

  修改上面的 main.cpp 文件，插入任务代码，如下所示：

  ```cpp
  #include "./tasks/task1/task_1.cpp"

  int main() {
      return main_task_1();
  }
  ```

  所有任务的执行函数都以"main_"为前缀，可以在每个任务的代码中轻松找到。

  GLFW、GLAD 和 GLM 的支持位于`include`和`lib`文件夹，以及`src/glad.c`文件。

### 构建

  除了`CMakeLists.txt`外，所有的CMake文件都没有上传到此项目中。
  你可以用喜欢的方式借助CMake构建和测试项目。

  以下是从项目根目录出发在终端上使用CMake构建项目的示例。

  ```
  mkdir build
  cd build
  cmake ..
  cmake --build .
  cd ..
  ```

  构建项目并返回到根目录后，你可以在终端中测试可执行文件。假设项目在"Debug"类型下构建，执行方法为：

  ```
  ./build/Debug/opengl-tasks
  ```

## 任务描述

### 任务 1：创建项目

1. 初始化窗口：

   * 使用 GLFW 设置基本窗口。
   * 创建一个保持窗口打开的主循环。

1. 初始化 GLAD：

   * 配置 GLAD 来管理 OpenGL 函数引用。

### 任务 2：绘制基本形状

1. 绘制三角形：

   * 创建简单的顶点和片元着色器。
   * 使用 OpenGL 渲染一个带颜色的三角形。

1. 绘制矩形：

   * 修改程序以绘制带颜色的矩形。

1. 绘制基本形状：

   * 尝试绘制其他基本形状，如圆形或线条。

### 任务 3：变换

1. 2D 变换：

   * 对形状应用基本的 2D 变换（平移、旋转、缩放）。

1. 3D 变换：

   * 修改程序以处理 3D 变换。

### 任务 4：着色器介绍

1. 理解着色器：

   * 深入了解顶点和片元着色器。
   * 尝试使用着色器变量和统一变量。

1. 颜色插值：

   * 使用着色器在形状上填充插值颜色。

### 任务 5：纹理

1. 纹理映射：

   * 加载并将纹理应用到形状上。

1. 纹理坐标：

   * 了解并使用纹理坐标。

### 任务 6：基本光照

1. 漫反射光照：

   * 将基本漫反射光照引入场景。

1. 镜面光照：

   * 扩展光照模型以加入镜面高光。

### 任务 7：高级着色器

1. 顶点着色器效果：

   * 在顶点着色器中尝试更高级的效果。

1. 片元着色器效果：

   * 在片元着色器中探索更复杂的效果。

### 任务 8：缓冲区和网格

1. 顶点缓冲对象（VBO）：

   * 使用 VBO 进行高效渲染。

1. 索引缓冲对象（IBO）：

   * 学习使用 IBO 进行索引渲染。

1. 渲染网格：

   * 创建并渲染一个简单的 3D 网格。

### 任务 9：相机和用户交互

1. 实现相机：

   * 集成基本相机系统以进行导航。

1. 用户输入处理：

   * 实现键盘和鼠标输入以进行用户交互。

### 任务 10：扩展内容

1. 帧缓冲：

   * 了解用于离屏渲染的帧缓冲。

1. 后处理效果：

   * 实现后处理效果。

1. 阴影映射：

   * 探索阴影映射技术。

### 任务 11：总结

1. 优化：

   * 优化渲染流水线以提高性能。

1. 文档和代码清理：

   * 对代码进行文档化并清理项目结构。

### 任务 12：最终项目 - 3D 场景渲染

在这个最终任务中，你将结合前面学到的知识构建一个 3D 场景渲染应用程序。

1. 网格加载：

   * 使用网格加载器加载 3D 模型（例如 Wavefront、.obj 文件）。
   * （选做）添加对 glTF 或 FBX 格式的 3D 模型导入的支持，以提高场景的复杂性和视觉多样性。

1. 纹理映射：

   * 将纹理应用于加载的网格。
   * 尝试为每个网格使用不同的纹理。

1. 自定义着色器：

   * 开发自定义顶点和片元着色器。
   * 探索复杂的着色器技术，如法线贴图或镜面高光。

1. 光照：

   * 实现一个光照系统，包括环境光、漫反射光和镜面光。
   * 尝试使用多个光源。

1. 相机控制：

   * 实现一个相机系统，具有旋转、平移和缩放的能力。
   * 允许用户交互以浏览 3D 场景。

1. 用户界面（选做）：

   * 集成一个简单的用户界面（UI），以控制渲染的各个方面，如光照参数或着色器效果。

1. 脚本化行为（选做）：

   * 开发一个脚本系统，将自定义行为附加到场景中的对象。
   * 允许用户脚本动画或交互。

1. 优化：

   * 优化渲染流水线以提高性能。
   * 探索诸如视锥体裁剪或细分等级（LOD）等技术。

1. 文档和代码清理：

   * 详细记录代码。
   * 清理项目结构。

1. 演示：

   * 创建一个展示场景，展示 3D 渲染应用程序的功能。
   * 拍摄截图或录制视频展示项目。
